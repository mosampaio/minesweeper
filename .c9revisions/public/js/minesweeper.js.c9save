{"ts":1350347898451,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"$(document).ready(function() {\n    var stage = new Kinetic.Stage({\n        container: \"canvas_container\",\n        width: 512,\n        height: 512\n    });\n\n    var layer = new Kinetic.Layer();\n    var lado = 32;\n    var mapa = new Array(16);\n    for (var i=0; i<16;i++) {\n        mapa[i] = new Array(16);\n        for (var j=0; j<16;j++) {\n            var rect = new Kinetic.Rect({\n                x: i*lado,\n                y: j*lado,\n                width: 31,\n                height: 31,\n                fill: \"gray\",\n                stroke: \"black\",\n                strokeWidth: 1,\n\n                i: i,\n                j: j,\n                clicked: false,\n                hasBomb: false,\n                bombsAround: null\n            });\n            rect.on('click', function(evt) {\n                ev_canvas(evt);\n                if (!this.clicked) {\n                    var i = Math.floor(evt._x/lado);\n                    var j = Math.floor(evt._y/lado);\n                    console.log('i:'+i+' j:'+j);\n                    this.clicked = true;\n                }\n            });\n            mapa[i][j] = rect;\n            // add the shape to the layer\n            layer.add(rect);\n        }\n    }\n    // add the layer to the stage\n    stage.add(layer);\n});\nfunction ev_canvas (ev) {\n    if (ev.layerX || ev.layerX == 0) { // Firefox\n        ev._x = ev.layerX;\n        ev._y = ev.layerY;\n    } else if (ev.offsetX || ev.offsetX == 0) { // Opera\n        ev._x = ev.offsetX;\n        ev._y = ev.offsetY;\n    }\n}"]],"start1":0,"start2":0,"length1":0,"length2":1515}]],"length":1515}
{"contributors":[],"silentsave":false,"ts":1350348053743,"patch":[[{"diffs":[[-1,"$(document).ready("],[1,"var fnCreateCanvas = "],[0,"func"]],"start1":0,"start2":0,"length1":22,"length2":25},{"diffs":[[0,"ayer);\n}"],[-1,");"],[0,"\nfunctio"]],"start1":1257,"start2":1257,"length1":18,"length2":16}]],"length":1516,"saved":false}
